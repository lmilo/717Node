<<<<<<< HEAD
<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/head') %>
    <body class="body">
        <%- include('../partials/navbar') %>
        <main>
            <div class="slider">
                <div class="slide-container">
                    <img src="/static/img/Misca_Con_Diseño.jpg" alt="photo 1" class="slide active">
                    <img src="/static/img/Misca_Con_Logo.jpg" alt="photo 2" class="slide">
                    <img src="/static/img/Misca_Con_Nombre.jpg" alt="photo 3" class="slide">
                </div>
                <div class="slider-nav"></div>
            </div>
            <h1 class="main-title">VIVE LA CALLE</h1>
            <h2 class="sub-title">717</h2>
            <section class="destacados">
                <img src="/static/img/ESPEJO.jpg" alt="" style="float: left; width: 500px; margin-left: 200px;">
                <h2>RECOMENDADO</h2>
                <div class="product-grid">
                    <% data.forEach(function(p) { %>
                        <div class="product-card">
                            <div class="product-image">
                                <img src="<%= p.foto.url %>" alt="<%= p.nombre %>">
                                <div class="product-overlay">
                                    <div class="product-actions">
                                        <button class="action-btn favorite-btn" onclick="toggleFavorite('<%= p.id %>')">
                                            <!-- Heart icon SVG -->
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" 
                                                 viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                                                 stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 
                                                         7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 
                                                         0 0 0 0-7.78z"></path>
                                            </svg>
                                        </button>
                                        <a href="/detalles/<%= p.id %>" class="action-btn view-btn">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" 
                                                 viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                                                 stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8z"></path>
                                                <circle cx="12" cy="12" r="3"></circle>
                                            </svg>
                                        </a>
                                    </div>
                                    <% if (p.cantidad === 0) { %>
                                        <a href="/detalles/<%= p.id %>"><button class="cart-btn">Agotado</button></a>
                                    <% } else { %>
                                        <a href="/detalles/<%= p.id %>">
                                            <button class="cart-btn" onclick="addToCart('<%= p.id %>')">Añadir al carrito</button>
                                        </a>
                                    <% } %>
                                </div>
                            </div>
                            <div class="product-info">
                                <h3><%= p.nombre %></h3>
                                <p class="price">$<%= p.precio %></p>
                            </div>
                        </div>
                    <% }); %>
                </div>
            </section>
        </main>        
        <%- include('../partials/footer') %>
        <script src="/static/js/script.js"></script>

        <script>
            lucide.createIcons();
           function addToCart(productId) {
               fetch(`/agregar_al_carrito/${productId}/`, {
                   method: 'GET',
               }).then(() => {
                   alert('Producto añadido al carrito');
               });
           }
       
           function viewDetails(productId) {
               window.location.href = `/producto/${productId}/`;
           }
       
          
           
           function toggleFavorite(productId) {
           fetch(`/agregar_a_favoritos/${productId}/`, {
               method: 'GET',
               credentials: 'include'
           })
           .then(response => response.json())
           .then(data => {
               if (data.status === 'added') {
                   alert('Producto añadido a favoritos');
               } else if (data.status === 'exists') {
                   alert('Este producto ya está en favoritos');
               } else {
                   alert('Error al agregar a favoritos');
               }
           })
           .catch(error => console.error('Error:', error));
       }
       </script>
    </body>
</html>
=======
<h1>Hola Mundo</h1>
>>>>>>> a83a6763a3d70fd49beb497aaf606502a6877d4e
